{"ast":null,"code":"import { useState } from \"react\";\nimport usePoller from \"./Poller\";\n/*\n  ~ What it does? ~\n\n  Gets your balance in ETH from given address and provider\n\n  ~ How can I use? ~\n\n  const yourLocalBalance = useBalance(localProvider, address);\n\n  ~ Features ~\n\n  - Provide address and get balance corresponding to given address\n  - Change provider to access balance on different chains (ex. mainnetProvider)\n*/\n\nexport default function useBalance(provider, address, pollTime) {\n  const [balance, setBalance] = useState();\n\n  const pollBalance = async () => {\n    if (address && provider) {\n      const newBalance = await provider.getBalance(address);\n\n      if (newBalance !== balance) {\n        // console.log(\"NEW BALANCE:\",newBalance,\"Current balance\",balance)\n        setBalance(newBalance);\n      }\n    }\n  };\n\n  usePoller(pollBalance, 27777, address && provider);\n  return balance;\n}","map":{"version":3,"sources":["/Users/Antonio/Desktop/SuperRent/packages/react-app/src/hooks/Balance.js"],"names":["useState","usePoller","useBalance","provider","address","pollTime","balance","setBalance","pollBalance","newBalance","getBalance"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,SAAP,MAAsB,UAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,UAAT,CAAoBC,QAApB,EAA8BC,OAA9B,EAAuCC,QAAvC,EAAiD;AAChE,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,EAAtC;;AACA,QAAMQ,WAAW,GAAG,YAAY;AAC9B,QAAIJ,OAAO,IAAID,QAAf,EAAyB;AACvB,YAAMM,UAAU,GAAG,MAAMN,QAAQ,CAACO,UAAT,CAAoBN,OAApB,CAAzB;;AACA,UAAIK,UAAU,KAAKH,OAAnB,EAA4B;AAC1B;AACAC,QAAAA,UAAU,CAACE,UAAD,CAAV;AACD;AACF;AACF,GARD;;AASAR,EAAAA,SAAS,CAACO,WAAD,EAAc,KAAd,EAAqBJ,OAAO,IAAID,QAAhC,CAAT;AAEA,SAAOG,OAAP;AACC","sourcesContent":["import { useState } from \"react\";\nimport usePoller from \"./Poller\";\n\n/*\n  ~ What it does? ~\n\n  Gets your balance in ETH from given address and provider\n\n  ~ How can I use? ~\n\n  const yourLocalBalance = useBalance(localProvider, address);\n\n  ~ Features ~\n\n  - Provide address and get balance corresponding to given address\n  - Change provider to access balance on different chains (ex. mainnetProvider)\n*/\n\nexport default function useBalance(provider, address, pollTime) {\nconst [balance, setBalance] = useState();\nconst pollBalance = async () => {\n  if (address && provider) {\n    const newBalance = await provider.getBalance(address);\n    if (newBalance !== balance) {\n      // console.log(\"NEW BALANCE:\",newBalance,\"Current balance\",balance)\n      setBalance(newBalance);\n    }\n  }\n};\nusePoller(pollBalance, 27777, address && provider );\n\nreturn balance;\n}\n"]},"metadata":{},"sourceType":"module"}