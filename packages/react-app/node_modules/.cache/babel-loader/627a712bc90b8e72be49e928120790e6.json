{"ast":null,"code":"/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\nvar getSymbolSize = require('./utils').getSymbolSize;\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\n\n\nexports.getRowColCoords = function getRowColCoords(version) {\n  if (version === 1) return [];\n  var posCount = Math.floor(version / 7) + 2;\n  var size = getSymbolSize(version);\n  var intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2;\n  var positions = [size - 7]; // Last coord is always (size - 7)\n\n  for (var i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals;\n  }\n\n  positions.push(6); // First coord is always 6\n\n  return positions.reverse();\n};\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * var pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\n\n\nexports.getPositions = function getPositions(version) {\n  var coords = [];\n  var pos = exports.getRowColCoords(version);\n  var posLength = pos.length;\n\n  for (var i = 0; i < posLength; i++) {\n    for (var j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if (i === 0 && j === 0 || // top-left\n      i === 0 && j === posLength - 1 || // bottom-left\n      i === posLength - 1 && j === 0) {\n        // top-right\n        continue;\n      }\n\n      coords.push([pos[i], pos[j]]);\n    }\n  }\n\n  return coords;\n};","map":{"version":3,"sources":["/Users/Antonio/Desktop/SuperRent/node_modules/qrcode/lib/core/alignment-pattern.js"],"names":["getSymbolSize","require","exports","getRowColCoords","version","posCount","Math","floor","size","intervals","ceil","positions","i","push","reverse","getPositions","coords","pos","posLength","length","j"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,aAAa,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBD,aAAvC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAE,OAAO,CAACC,eAAR,GAA0B,SAASA,eAAT,CAA0BC,OAA1B,EAAmC;AAC3D,MAAIA,OAAO,KAAK,CAAhB,EAAmB,OAAO,EAAP;AAEnB,MAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,GAAG,CAArB,IAA0B,CAAzC;AACA,MAAII,IAAI,GAAGR,aAAa,CAACI,OAAD,CAAxB;AACA,MAAIK,SAAS,GAAGD,IAAI,KAAK,GAAT,GAAe,EAAf,GAAoBF,IAAI,CAACI,IAAL,CAAU,CAACF,IAAI,GAAG,EAAR,KAAe,IAAIH,QAAJ,GAAe,CAA9B,CAAV,IAA8C,CAAlF;AACA,MAAIM,SAAS,GAAG,CAACH,IAAI,GAAG,CAAR,CAAhB,CAN2D,CAMhC;;AAE3B,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,QAAQ,GAAG,CAA/B,EAAkCO,CAAC,EAAnC,EAAuC;AACrCD,IAAAA,SAAS,CAACC,CAAD,CAAT,GAAeD,SAAS,CAACC,CAAC,GAAG,CAAL,CAAT,GAAmBH,SAAlC;AACD;;AAEDE,EAAAA,SAAS,CAACE,IAAV,CAAe,CAAf,EAZ2D,CAYzC;;AAElB,SAAOF,SAAS,CAACG,OAAV,EAAP;AACD,CAfD;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAZ,OAAO,CAACa,YAAR,GAAuB,SAASA,YAAT,CAAuBX,OAAvB,EAAgC;AACrD,MAAIY,MAAM,GAAG,EAAb;AACA,MAAIC,GAAG,GAAGf,OAAO,CAACC,eAAR,CAAwBC,OAAxB,CAAV;AACA,MAAIc,SAAS,GAAGD,GAAG,CAACE,MAApB;;AAEA,OAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,SAApB,EAA+BN,CAAC,EAAhC,EAAoC;AAClC,SAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,SAApB,EAA+BE,CAAC,EAAhC,EAAoC;AAClC;AACA,UAAKR,CAAC,KAAK,CAAN,IAAWQ,CAAC,KAAK,CAAlB,IAAoC;AACnCR,MAAAA,CAAC,KAAK,CAAN,IAAWQ,CAAC,KAAKF,SAAS,GAAG,CAD9B,IACoC;AACnCN,MAAAA,CAAC,KAAKM,SAAS,GAAG,CAAlB,IAAuBE,CAAC,KAAK,CAFlC,EAEsC;AAAE;AACtC;AACD;;AAEDJ,MAAAA,MAAM,CAACH,IAAP,CAAY,CAACI,GAAG,CAACL,CAAD,CAAJ,EAASK,GAAG,CAACG,CAAD,CAAZ,CAAZ;AACD;AACF;;AAED,SAAOJ,MAAP;AACD,CAnBD","sourcesContent":["/**\n * Alignment pattern are fixed reference pattern in defined positions\n * in a matrix symbology, which enables the decode software to re-synchronise\n * the coordinate mapping of the image modules in the event of moderate amounts\n * of distortion of the image.\n *\n * Alignment patterns are present only in QR Code symbols of version 2 or larger\n * and their number depends on the symbol version.\n */\n\nvar getSymbolSize = require('./utils').getSymbolSize\n\n/**\n * Calculate the row/column coordinates of the center module of each alignment pattern\n * for the specified QR Code version.\n *\n * The alignment patterns are positioned symmetrically on either side of the diagonal\n * running from the top left corner of the symbol to the bottom right corner.\n *\n * Since positions are simmetrical only half of the coordinates are returned.\n * Each item of the array will represent in turn the x and y coordinate.\n * @see {@link getPositions}\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinate\n */\nexports.getRowColCoords = function getRowColCoords (version) {\n  if (version === 1) return []\n\n  var posCount = Math.floor(version / 7) + 2\n  var size = getSymbolSize(version)\n  var intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2\n  var positions = [size - 7] // Last coord is always (size - 7)\n\n  for (var i = 1; i < posCount - 1; i++) {\n    positions[i] = positions[i - 1] - intervals\n  }\n\n  positions.push(6) // First coord is always 6\n\n  return positions.reverse()\n}\n\n/**\n * Returns an array containing the positions of each alignment pattern.\n * Each array's element represent the center point of the pattern as (x, y) coordinates\n *\n * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n * and filtering out the items that overlaps with finder pattern\n *\n * @example\n * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n * The alignment patterns, therefore, are to be centered on (row, column)\n * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n * and are not therefore used for alignment patterns.\n *\n * var pos = getPositions(7)\n * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nexports.getPositions = function getPositions (version) {\n  var coords = []\n  var pos = exports.getRowColCoords(version)\n  var posLength = pos.length\n\n  for (var i = 0; i < posLength; i++) {\n    for (var j = 0; j < posLength; j++) {\n      // Skip if position is occupied by finder patterns\n      if ((i === 0 && j === 0) ||             // top-left\n          (i === 0 && j === posLength - 1) || // bottom-left\n          (i === posLength - 1 && j === 0)) { // top-right\n        continue\n      }\n\n      coords.push([pos[i], pos[j]])\n    }\n  }\n\n  return coords\n}\n"]},"metadata":{},"sourceType":"script"}